# 토스 인앱 게임 - 3D 큐브 러너

## 게임 컨셉

### 핵심 아이디어
- **정육면체 큐브 공간을 달려나가는 원버튼 러닝 액션 게임**
- **핵심 메카닉: 강제 회전** - 특정 구간 통과 시 게임 세계가 90도씩 회전
- **물리적 상호작용**: 플레이어가 실제 기기를 돌려 중력 변화에 적응

### 게임플레이
- **기본 조작**: 탭을 통한 점프 (단일 점프 또는 더블 점프)
- **환경**: 디지털 공간의 3D 정육면체 큐브
- **중력 시스템**: 90도 회전으로 벽→바닥, 천장→벽으로 변환
- **플레이어 적응**: 갑작스러운 중력 변화에 실제 기기 회전으로 대응

### 기술 스택
- **React Native**: 모바일 앱 개발
- **Bedrock**: React Native 프레임워크 (v0.0.25)
- **TypeScript**: 타입 안정성

### 현재 개발 상태
- ✅ 기본 프로젝트 구조 설정 (React Native + Bedrock)
- ✅ Metro 설정 완료
- ✅ 기본 Hello World 화면 구현
- ❌ 캐릭터 점프 (미구현 - 예시 커밋만 존재)
- ❌ 3D 환경 (미구현)
- ❌ 회전 메카닉 (미구현)

### 다음 개발 단계
1. **3D 렌더링 라이브러리 선택 및 설치** (react-native-reanimated, react-native-skia 등)
2. **기본 게임 화면 구현**
3. **캐릭터 생성 및 점프 시스템**
4. **큐브 환경 렌더링**
5. **러닝 메카닉 (자동 전진)**
6. **강제 회전 시스템**
7. **기기 회전 감지 (자이로스코프)**
8. **중력 변화 및 물리 시스템**
9. **레벨 디자인**
10. **게임 UI/UX**

### 프로젝트 구조 (협업 최적화)
```
toss-game-app/
├── pages/           # 라우팅 페이지
├── src/            # 게임 로직
│   ├── components/  # 재사용 UI 컴포넌트
│   ├── game/       # 게임 코어
│   │   ├── core/    # 엔진, 메인 루프
│   │   ├── physics/ # 물리 시스템
│   │   ├── input/   # 입력 처리
│   │   ├── systems/ # 게임 시스템
│   │   └── entities/ # 게임 객체
│   ├── hooks/       # React 훅
│   ├── utils/       # 유틸리티
│   ├── assets/      # 에셋 파일
│   ├── types/       # 타입 정의
│   └── constants/   # 상수 관리
└── package.json     # 의존성 관리
```

### 개발 명령어
```bash
cd toss-game-app
npm run dev         # 개발 서버 실행
npm run build       # 프로덕션 빌드
npm run test        # 테스트 실행
npm run typecheck   # 타입 체크
```

## 에셋 대기 중 개발 계획

### 1단계: 기초 시스템 구축 (에셋 불필요)
- **터치 입력 시스템** - 탭 감지 및 더블탭 구분
- **게임 루프** - 기본 update/render 사이클
- **기기 회전 감지** - 자이로스코프/가속도계 API 연동
- **상태 관리** - 게임 상태 (시작/플레이/일시정지/종료)

### 2단계: 물리/수학 시스템 (프로토타입)
- **3D 좌표계 설정** - 큐브 공간 좌표 변환
- **중력 시스템** - 방향별 중력 벡터 계산
- **충돌 감지 기초** - AABB 충돌 감지
- **90도 회전 행렬** - 월드 회전 수학 로직

### 3단계: 프로토타입 렌더링 (간단한 도형)
- **3D 렌더링 라이브러리 설치** (react-native-skia 추천)
- **기본 큐브 wireframe** - 선으로만 이루어진 큐브
- **플레이어 대체 오브젝트** - 간단한 사각형/원형
- **바닥/벽/천장 구분** - 색상으로 구분

### 4단계: 핵심 게임플레이 로직
- **자동 전진 시스템** - 일정 속도로 전진
- **점프 메카닉** - 포물선 궤도 계산
- **더블 점프** - 공중에서 추가 점프 가능
- **구간 감지** - 특정 지점 도달 시 회전 트리거

### 5단계: 테스트 및 디버깅 도구
- **FPS 카운터**
- **좌표 디스플레이** - 플레이어 위치 실시간 표시
- **회전 상태 표시** - 현재 중력 방향 표시
- **개발자 콘솔** - 게임 상태 확인

### 권장 개발 순서
1. **터치 입력** → 기본 상호작용 확보
2. **게임 루프** → 프레임워크 구축  
3. **3D 라이브러리** → 렌더링 기반 마련
4. **기기 회전 감지** → 핵심 메카닉 준비
5. **프로토타입 렌더링** → 시각적 피드백
6. **물리 시스템** → 게임플레이 구현
7. **테스트 도구** → 디버깅 환경

---
*마지막 업데이트: 2025-08-26*